<sly data-sly-use.url="../../../../global-useapi/serverurl.js"></sly>
<script>
  var serverURL = "${url.server @ context='html'}";
</script>

<sly data-sly-use.clientLib="${'/libs/granite/sightly/templates/clientlib.html'}"/>
<sly data-sly-call="${clientlib.js @ categories='order-list'}" data-sly-unwrap/>
<section class="account-main-holder clearfix"
		 data-sly-use.pendingorders="com.frontierwholesales.core.models.myaccount.PendingOrders">      
	<div class="each-order-by-user-holder" >
		<div class="account-heading-holder table-below">
			<h2 class="account-heading">Orders</h2>
		</div>
		<div class="orders-holder">
	        <div class="grid-table-header order-information-header">
	             <div class="each-order-header order-header-select grid-header">${pendingorders.selectColumnHeader}</div>
	             <div class="each-order-header order-header-name grid-header">${pendingorders.orderNameColumnHeader}</div>
	             <div class="each-order-header order-header-status grid-header">${pendingorders.statusColumnHeader}</div>
	             <div class="each-order-header order-header-lines grid-header">${pendingorders.linesColumnHeader}</div>
	             <div class="each-order-header order-header-subtotal grid-header">${pendingorders.subtotalColumnHeader}</div>
	             <div class="each-order-header order-header-activity grid-header">${pendingorders.activityColumnHeader}</div>
	             <div class="each-order-header order-header-detail grid-header">${pendingorders.detailColumnHeader}</div>
	        </div>
        </div>
        <div id="ordertemplate"></div>
        <!-- Order details starts here -->
        <script  id="orderTemplate" type="text/template">
        <div class="order-grid" >
            {{#items}}
             <div class="row-each-order">
                        
							<div class="order-information-holder">
                              <div class="each-order-section order-select-section">
                                   <span class="tablet-below-col-heading">${pendingorders.selectColumnHeader}</span>
                                   <div class="checkbox">
                                        <label for="order_id_0000">
                                             <input type="checkbox" name="order_id_number_0000">
                                             <span class="label-text">${pendingorders.selectCheckboxLabel}</span>
                                        </label>
                                   </div>
                              </div>
                              <div class="each-order-section order-name-section">
                                   <span class="tablet-below-col-heading">${pendingorders.orderNameColumnHeader}</span>
                                   <a class="link-switch-to-cart-orders" href="#">${order.name}</a>
                              </div>
                              <div class="each-order-section order-status-section">
                                   <span class="tablet-below-col-heading">${pendingorders.statusColumnHeader}</span>
                                   <span class="order-text order-approved-text">{{status}}</span>
                              </div>
                              <div class="order-information-break-section"></div>
                              <div class="each-order-section order-lines-section">
                                   <span class="tablet-below-col-heading">${pendingorders.linesColumnHeader}</span>
                                   <span class="order-text lines-text">{{total_item_count}}</span>
                              </div>
                              <div class="each-order-section order-subtotal-section">
                                   <span class="tablet-below-col-heading">${pendingorders.subtotalColumnHeader}</span>
                                   <span class="order-text subtotal-text">{{ formatNumber subtotal style="currency" currency="USD"}}</span>
                              </div>
                              <div class="each-order-section order-activity-section">
                                   <span class="tablet-below-col-heading">${pendingorders.activityColumnHeader}</span>
                                   <span class="order-text activity-text">{{formatDate  updated_at}}</span>
                              </div>
                              <div class="each-order-section order-detail-section">
                                   <span class="tablet-below-col-heading">${pendingorders.detailColumnHeader}</span>
                                   <button class="btn btn-only-green-icon btn-toggle-order-details">
                                        <span class="address-link-text visuallyhidden">Show</span>
                                        <span class="glyphicon glyphicon-plus"></span>
                                   </button>
                              </div>
                         </div>
                        <!-- child items -->
                       
                         <div class="order-details-holder">
                              <div class="grid-table-header order-detail-header">
                                   <div class="each-order-header detail-header-image grid-header">&nbsp;</div>
                                   <div class="each-order-header detail-header-item grid-header">Item #</div>
                                   <div class="each-order-header detail-header-description grid-header">Description</div>
                                   <div class="each-order-header detail-header-sku grid-header">SkuStatus</div>
                                   <div class="each-order-header detail-header-price grid-header">Price</div>
                                   <div class="each-order-header detail-header-qty grid-header">Qty</div>
                              </div>
                               {{#items}}
                              <div class="order-detail-grid">

                                   <div class="row-each-order-detail">
                                        <div class="order-detail-holder">
                                             <div class="order-detail-section detail-image-section">
                                                  <a href="#">
                                                       <img src="" class="image-pending-orders" alt="${orderItem.description}">
                                                  </a>
                                             </div>
                                             <div class="order-detail-section detail-item-section">
                                                  <span class="tablet-below-col-detail-heading">Item #</span>
                                                  <span class="order-detail-text item-number-text">{{product_id}}</span>
                                             </div>
                                             <div class="order-detail-section detail-description-section">
                                                  <span class="tablet-below-col-detail-heading">Description</span>
                                                  <span class="order-detail-text description-text">${orderItem.description}</span>
                                             </div>
                                             <div class="order-detail-section detail-sku-section">
                                                  <span class="tablet-below-col-detail-heading">SkuStatus</span>
                                                  <span class="order-detail-text sku-status-text">${orderItem.skuStatus}</span>
                                             </div>
                                             <div class="order-detail-section detail-price-section">
                                                  <span class="tablet-below-col-detail-heading">Price</span>
                                                  <span class="order-detail-text price-text">{{formatNumber price style="currency" currency="USD"}}</span>
                                             </div>
                                             <div class="order-detail-section detail-qty-section">
                                                  <span class="tablet-below-col-detail-heading">Qty</span>
                                                  <span class="order-detail-text qty-text">{{qty_ordered}}</span>
                                             </div>
                                        </div>
                                   </div>

                              </div>
                               {{/items}}
                         </div>
                       
            </div>
            {{/items}}
            </div></script>
             
	</div>
     
</section>

<section class="cart-holder cart-actions clearfix">
     <div class="cart-header-holder no-border">
          <h1 class="cart-heading">${pendingorders.approvalActionsSectionHeader}</h1>
     </div>
     <div id="cart-actions-grid">
          <div class="each-action-holder cart-action-status">
               <div class="action-holder">
                    <a href="#" class="btn btn-dark-orange btn-checkout-approve-orders" data-toggle="modal" data-target="#modalApproveOrders">${pendingorders.approveOrdersButtonText}</a>
               </div>
          </div>
          <div class="each-action-holder cart-action-status">
               <div class="action-holder">
                    <a href="#" class="btn btn-dark-orange btn-checkout-mark-draft" data-toggle="modal" data-target="#modalMarkDraftOrders">${pendingorders.markAsDraftButtonText}</a>
               </div>
          </div>
          <div class="each-action-holder cart-action-status last">
               <div class="action-holder">
                    <a href="#" class="btn btn-red btn-checkout-delete-orders" data-toggle="modal" data-target="#modalDeleteOrders">${pendingorders.deleteOrdersButtonText}</a>
               </div>
          </div>
     </div>

     <div class="submit-holder checkout-flow">
          <button class="btn btn-light-green btn-larger btn-cart-checkout">${pendingorders.checkoutButtonText}</button>
     </div>

</section>

<!-- Delete Order Modal -->
<div class="modal fade" id="modalDeleteOrders" tabindex="-1" role="dialog" aria-labelledby="modalDeleteOrderLabel">
     <div class="modal-dialog" role="document">
          <div class="modal-content">
               <div class="modal-header clearfix">
                    <h4 class="modal-title" id="modalDeleteOrderLabel">${pendingorders.deleteOrdersModalHeader}</h4>
               </div>
               <div class="modal-body clearfix">
                    ${pendingorders.deleteOrdersModalMessage @context='html'}
               </div>
               <div class="modal-footer clearfix">
                    <div class="modal-footer-btn-left-holder">
                         <button type="button" class="btn btn-red btn-delete-order">${pendingorders.deleteOrdersModalConfirmButtonText}</button>
                    </div>
                    <div class="modal-footer-btn-right-holder">
                         <button type="button" class="btn btn-link btn-link-close-modal" data-dismiss="modal">${pendingorders.deleteOrdersModalCancelButtonText}</button>
                    </div>
               </div>
          </div>
     </div>
</div>

<!-- Approve Order Modal -->
<div class="modal fade" id="modalApproveOrders" tabindex="-1" role="dialog" aria-labelledby="modalApproveOrderLabel">
     <div class="modal-dialog" role="document">
          <div class="modal-content">
               <div class="modal-header clearfix">
                    <h4 class="modal-title" id="modalApproveOrderLabel">${pendingorders.approvalConfirmationModalHeader}</h4>
               </div>
               <div class="modal-body clearfix">
                    ${pendingorders.approvalConfirmationModalMessage @context='html'}
               </div>
               <div class="modal-footer clearfix">
                    <div class="modal-footer-btn-left-holder">
                         <button type="button" class="btn btn-dark-orange btn-delete-order">${pendingorders.approvalConfirmationModalConfirmButtonText}</button>
                    </div>
                    <div class="modal-footer-btn-right-holder">
                         <button type="button" class="btn btn-link btn-link-close-modal" data-dismiss="modal">${pendingorders.approvalConfirmationModalCancelButtonText}</button>
                    </div>
               </div>
          </div>
     </div>
</div>

<!-- Mark Draft Order Modal -->
<div class="modal fade" id="modalMarkDraftOrders" tabindex="-1" role="dialog" aria-labelledby="modalMarkDraftOrdersLabel">
     <div class="modal-dialog" role="document">
          <div class="modal-content">
               <div class="modal-header clearfix">
                    <h4 class="modal-title" id="modalMarkDraftOrdersLabel">${pendingorders.markAsDraftModalHeader}</h4>
               </div>
               <div class="modal-body clearfix">
                    ${pendingorders.markAsDraftModalMessage @context='html'}
               </div>
               <div class="modal-footer clearfix">
                    <div class="modal-footer-btn-left-holder">
                         <button type="button" class="btn btn-dark-orange btn-delete-order">${pendingorders.markAsDraftModalConfirmButtonText}</button>
                    </div>
                    <div class="modal-footer-btn-right-holder">
                         <button type="button" class="btn btn-link btn-link-close-modal" data-dismiss="modal">${pendingorders.markAsDraftModalCancelButtonText}</button>
                    </div>
               </div>
          </div>
     </div>
</div>